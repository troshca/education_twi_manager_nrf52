#include <string.h>
#include <stdio.h>
#include "twi_mng_ssd1306.h"
#include "ssd1306_tests.h"

//------------------------------------------------------------------------------
// Table generated by LCD Assistant
// http://en.radzio.dxp.pl/bitmap_converter/
//------------------------------------------------------------------------------
const unsigned char garfield_128x64[] = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFE, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x03, 0x00, 0x00,
0x00, 0x00, 0x07, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x01, 0x00, 0x00,
0x03, 0xC0, 0x0C, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x01, 0x80, 0x00,
0x0E, 0x40, 0x30, 0x00, 0xE0, 0x00, 0x00, 0x00, 0x03, 0xFE, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00,
0x08, 0x40, 0x20, 0x00, 0x10, 0x00, 0x00, 0x00, 0x1C, 0x0D, 0xC0, 0x00, 0x80, 0x10, 0x80, 0x00,
0x08, 0x40, 0x40, 0x00, 0x0E, 0x00, 0x00, 0x00, 0x60, 0x04, 0x60, 0x00, 0x80, 0x10, 0x80, 0x00,
0x08, 0x40, 0x80, 0x30, 0x01, 0x00, 0x00, 0x01, 0xC0, 0x3C, 0x10, 0x00, 0x84, 0x00, 0x80, 0x00,
0x08, 0x61, 0x00, 0x38, 0x00, 0x80, 0x00, 0x06, 0x80, 0x7C, 0x08, 0x00, 0x80, 0x00, 0x80, 0x00,
0x08, 0x21, 0x00, 0x27, 0x00, 0x40, 0x00, 0x19, 0x3C, 0x7C, 0x08, 0x00, 0x80, 0x01, 0x00, 0x00,
0x08, 0x22, 0x00, 0x7D, 0x80, 0x20, 0x00, 0x11, 0x3C, 0x04, 0x08, 0x00, 0x82, 0x42, 0x00, 0x00,
0x08, 0x22, 0x00, 0xD7, 0x00, 0x20, 0x00, 0x21, 0x38, 0x04, 0x08, 0x00, 0x83, 0xC4, 0x00, 0x00,
0x04, 0x24, 0x00, 0x78, 0x18, 0x10, 0x00, 0x21, 0x00, 0xC8, 0x08, 0x00, 0xC0, 0x04, 0x00, 0x00,
0x04, 0x28, 0x01, 0x9B, 0xE0, 0x10, 0x00, 0x41, 0x01, 0x90, 0x08, 0x00, 0x48, 0x18, 0x00, 0x00,
0x02, 0x30, 0x03, 0xFF, 0xC0, 0x10, 0x00, 0x41, 0x04, 0x60, 0x08, 0x00, 0x2C, 0xE0, 0x00, 0x00,
0x02, 0x30, 0x00, 0x00, 0x00, 0x08, 0x00, 0x41, 0x07, 0x80, 0x08, 0x00, 0x1F, 0x80, 0x00, 0x00,
0x02, 0x20, 0x00, 0x00, 0x00, 0x08, 0x00, 0x40, 0x82, 0x00, 0x10, 0x00, 0x01, 0x00, 0x00, 0x00,
0x03, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xC0, 0x40, 0x7E, 0x00, 0x10, 0x00, 0x03, 0x00, 0x00, 0x00,
0x03, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xC0, 0x40, 0x02, 0x00, 0x10, 0x00, 0x02, 0x00, 0x00, 0x00,
0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xC0, 0x40, 0x02, 0x00, 0x10, 0x00, 0x02, 0x00, 0x00, 0x00,
0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xC0, 0x40, 0x06, 0x00, 0x10, 0x00, 0x01, 0xC0, 0x00, 0x00,
0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xC0, 0x40, 0x0F, 0x00, 0x10, 0x00, 0x03, 0x20, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x3C, 0x08, 0x80, 0x10, 0x00, 0x0C, 0x30, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x00, 0x12, 0x40, 0x10, 0x00, 0x14, 0x10, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x00, 0x16, 0x60, 0x10, 0x00, 0x2C, 0x08, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x00, 0x2A, 0x10, 0x10, 0x00, 0x3C, 0x04, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x00, 0x4A, 0x08, 0x10, 0x00, 0x54, 0x03, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x00, 0xB2, 0x08, 0x10, 0x00, 0xA4, 0x01, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x01, 0x42, 0x06, 0x00, 0x01, 0x44, 0x00, 0xC0, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x02, 0x82, 0x03, 0x00, 0x02, 0x44, 0x00, 0x60, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x07, 0x02, 0x01, 0x00, 0x03, 0x84, 0x00, 0x60, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x0C, 0x03, 0xFC, 0x00, 0x03, 0x04, 0x00, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x3F, 0xFF, 0x07, 0xC0, 0x0C, 0x02, 0x06, 0x00, 0x06, 0x04, 0x00, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x20, 0x01, 0x07, 0xC0, 0x18, 0x02, 0x03, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x20, 0x01, 0x07, 0xC0, 0x00, 0x02, 0x01, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x20, 0x01, 0x07, 0xC0, 0x00, 0x02, 0x01, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x10, 0x01, 0x07, 0xC0, 0x00, 0x02, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x10, 0x01, 0x07, 0xC0, 0x00, 0x02, 0x06, 0x00, 0x00, 0x03, 0x80, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x10, 0x03, 0x07, 0xC0, 0x00, 0x01, 0xFC, 0x00, 0x00, 0x0C, 0xC0, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x10, 0x02, 0x07, 0xC0, 0x00, 0x01, 0x00, 0x00, 0x00, 0x18, 0x40, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x10, 0x02, 0x07, 0xC0, 0x00, 0x07, 0xE0, 0x00, 0x00, 0x20, 0x20, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x10, 0x02, 0x07, 0xC0, 0x00, 0x18, 0x20, 0x00, 0x00, 0x40, 0x30, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x1F, 0xFE, 0x07, 0xC0, 0x00, 0x30, 0x20, 0x00, 0x00, 0x40, 0x10, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x00, 0x40, 0x10, 0x00, 0x00, 0x80, 0x08, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x00, 0x80, 0x10, 0x00, 0x01, 0x00, 0x08, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x01, 0x00, 0x10, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x01, 0x00, 0x10, 0x00, 0x02, 0x00, 0x02, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x01, 0x00, 0x10, 0x00, 0x04, 0x00, 0x02, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x02, 0x00, 0x10, 0x00, 0x04, 0x00, 0x01, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x02, 0x00, 0x10, 0x00, 0x08, 0x00, 0x01, 0x00, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x04, 0x00, 0x10, 0x00, 0x08, 0x00, 0x00, 0x80, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x04, 0x00, 0x08, 0x00, 0x08, 0x00, 0x00, 0xC0, 0x00,
0x01, 0xF0, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x04, 0x00, 0x08, 0x00, 0x10, 0x00, 0x00, 0x40, 0x00,
0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xC0, 0x0C, 0x00, 0x08, 0x00, 0x10, 0x00, 0x00, 0x60, 0x00,
0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xC0, 0x08, 0x00, 0x0C, 0x00, 0x10, 0x00, 0x00, 0x20, 0x00,
0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xC0, 0x08, 0x00, 0x04, 0x00, 0x10, 0x00, 0x00, 0x20, 0x00,
0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xC0, 0x00, 0x00, 0x04, 0x00, 0x10, 0x00, 0x00, 0x20, 0x00,
0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xC0, 0x00, 0x00, 0x04, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};

const unsigned char github_logo_64x64[] = {
    0x00, 0x00, 0x00, 0x1F, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xFF, 0xFF, 0x80, 0x00, 0x00,
    0x00, 0x00, 0x0F, 0xFF, 0xFF, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x3F, 0xFF, 0xFF, 0xFC, 0x00, 0x00,
    0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x03, 0xFF, 0xFF, 0xFF, 0xFF, 0xC0, 0x00,
    0x00, 0x07, 0xFF, 0xFF, 0xFF, 0xFF, 0xE0, 0x00, 0x00, 0x0F, 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0x00,
    0x00, 0x3F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0x00, 0x00, 0x7F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0x00,
    0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00,
    0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x80, 0x03, 0xFE, 0x3F, 0xFF, 0xFF, 0xFC, 0x7F, 0xC0,
    0x07, 0xFE, 0x07, 0xFF, 0xFF, 0xE0, 0x7F, 0xE0, 0x07, 0xFE, 0x01, 0xF8, 0x1F, 0xC0, 0x3F, 0xE0,
    0x0F, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x3F, 0xF0, 0x0F, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x3F, 0xF0,
    0x1F, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x3F, 0xF8, 0x1F, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x3F, 0xF8,
    0x3F, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x3F, 0xFC, 0x3F, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x7F, 0xFC,
    0x7F, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x3F, 0xFC, 0x7F, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFE,
    0x7F, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFE, 0x7F, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFE,
    0x7F, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFE, 0xFF, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFF,
    0xFF, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFF, 0xFF, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF,
    0xFF, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xFF, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF,
    0xFF, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFF, 0xFF, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFF,
    0xFF, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFF, 0xFF, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFF,
    0xFF, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFF, 0x7F, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFE,
    0x7F, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFE, 0x7F, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x3F, 0xFE,
    0x7F, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x3F, 0xFE, 0x7F, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x7F, 0xFC,
    0x3F, 0xFF, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFC, 0x3F, 0xFF, 0xC0, 0x00, 0x00, 0x01, 0xFF, 0xFC,
    0x1F, 0x9F, 0xE0, 0x00, 0x00, 0x07, 0xFF, 0xF8, 0x1F, 0x87, 0xFC, 0x00, 0x00, 0x3F, 0xFF, 0xF8,
    0x0F, 0xC3, 0xFF, 0xC0, 0x01, 0xFF, 0xFF, 0xF0, 0x0F, 0xE1, 0xFF, 0x80, 0x01, 0xFF, 0xFF, 0xF0,
    0x07, 0xF1, 0xFF, 0x80, 0x00, 0xFF, 0xFF, 0xE0, 0x07, 0xF0, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xE0,
    0x03, 0xF8, 0x3F, 0x00, 0x00, 0xFF, 0xFF, 0xC0, 0x01, 0xF8, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x80,
    0x00, 0xFC, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFE, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00,
    0x00, 0x7F, 0x00, 0x00, 0x00, 0xFF, 0xFE, 0x00, 0x00, 0x3F, 0xFF, 0x00, 0x00, 0xFF, 0xFC, 0x00,
    0x00, 0x0F, 0xFF, 0x00, 0x00, 0xFF, 0xF0, 0x00, 0x00, 0x07, 0xFF, 0x00, 0x00, 0xFF, 0xE0, 0x00,
    0x00, 0x03, 0xFF, 0x00, 0x00, 0xFF, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0x00, 0x00,
    0x00, 0x00, 0x3F, 0x00, 0x00, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x0F, 0x00, 0x00, 0xF0, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
/*
void ssd1306_TestBorder()
{
    ssd1306_Fill(Black);

    //uint32_t start = HAL_GetTick();
    //uint32_t end = start;
    uint8_t x = 0;
    uint8_t y = 0;
    do
    {
        ssd1306_DrawPixel(x, y, Black);

        if ((y == 0) && (x < 127))
            x++;
        else if ((x == 127) && (y < (SSD1306_HEIGHT - 1)))
            y++;
        else if ((y == (SSD1306_HEIGHT - 1)) && (x > 0))
            x--;
        else
            y--;

        ssd1306_DrawPixel(x, y, White);
        ssd1306_UpdateScreen();

        nrf_delay_ms(5);
        //end = HAL_GetTick();
    } while ((end - start) < 8000);

    nrf_delay_ms(1000);
}
*/
void ssd1306_TestFonts()
{
    uint8_t y = 0;
    ssd1306_Fill(Black);

#ifdef SSD1306_INCLUDE_FONT_16x26
    ssd1306_SetCursor(2, y);
    ssd1306_WriteString("Font 16x26", Font_16x26, White);
    y += 26;
#endif

#ifdef SSD1306_INCLUDE_FONT_11x18
    ssd1306_SetCursor(2, y);
    ssd1306_WriteString("Font 11x18", Font_11x18, White);
    y += 18;
#endif

#ifdef SSD1306_INCLUDE_FONT_7x10
    ssd1306_SetCursor(2, y);
    ssd1306_WriteString("Font 7x10", Font_7x10, White);
    y += 10;
#endif

#ifdef SSD1306_INCLUDE_FONT_6x8
    ssd1306_SetCursor(2, y);
    ssd1306_WriteString("Font 6x8", Font_6x8, White);
#endif

    ssd1306_UpdateScreen();
}

/*
void ssd1306_TestFPS()
{
    ssd1306_Fill(White);

    uint32_t start = HAL_GetTick();
    uint32_t end = start;
    int fps = 0;
    char message[] = "ABCDEFGHIJK";

    ssd1306_SetCursor(2, 0);
    ssd1306_WriteString("Testing...", Font_11x18, Black);
    ssd1306_SetCursor(2, 18 * 2);
    ssd1306_WriteString("0123456789A", Font_11x18, Black);

    do
    {
        ssd1306_SetCursor(2, 18);
        ssd1306_WriteString(message, Font_11x18, Black);
        ssd1306_UpdateScreen();

        char ch = message[0];
        memmove(message, message + 1, sizeof(message) - 2);
        message[sizeof(message) - 2] = ch;

        fps++;
        end = HAL_GetTick();
    } while ((end - start) < 5000);

    HAL_Delay(5000);

    char buff[64];
    fps = (float)fps / ((end - start) / 1000.0);
    snprintf(buff, sizeof(buff), "~%d FPS", fps);

    ssd1306_Fill(White);
    ssd1306_SetCursor(2, 2);
    ssd1306_WriteString(buff, Font_11x18, Black);
    ssd1306_UpdateScreen();
}
*/

void ssd1306_TestLine()
{

    ssd1306_Line(1, 1, SSD1306_WIDTH - 1, SSD1306_HEIGHT - 1, White);
    ssd1306_Line(SSD1306_WIDTH - 1, 1, 1, SSD1306_HEIGHT - 1, White);
    ssd1306_UpdateScreen();
    return;
}

void ssd1306_TestRectangle()
{
    uint32_t delta;

    for (delta = 0; delta < 5; delta++)
    {
        ssd1306_DrawRectangle(1 + (5 * delta), 1 + (5 * delta), SSD1306_WIDTH - 1 - (5 * delta), SSD1306_HEIGHT - 1 - (5 * delta), White);
    }
    ssd1306_UpdateScreen();
    return;
}

void ssd1306_TestRectangleFill()
{
    ssd1306_FillRectangle(31, 1, 65, 35, White);
    ssd1306_FillRectangle(10, 45, 70, 60, White);
    ssd1306_FillRectangle(75, 10, 100, 45, White);
    ssd1306_FillRectangle(55, 30, 80, 55, Black);
    ssd1306_UpdateScreen();
}

void ssd1306_TestCircle()
{
    uint32_t delta;

    for (delta = 0; delta < 5; delta++)
    {
        ssd1306_DrawCircle(20 * delta + 30, 15, 10, White);
    }

    for (delta = 0; delta < 5; delta++)
    {
        ssd1306_FillCircle(23 * delta + 15, 40, 10, White);
    }

    ssd1306_UpdateScreen();
    return;
}

void ssd1306_TestArc()
{
    ssd1306_DrawArc(30, 30, 30, 20, 270, White);
    ssd1306_DrawArcWithRadiusLine(80, 55, 10, 30, 270, White);
    ssd1306_UpdateScreen();
    return;
}

void ssd1306_TestPolyline()
{
    SSD1306_VERTEX loc_vertex[] =
        {
            {35, 40},
            {40, 20},
            {45, 28},
            {50, 10},
            {45, 16},
            {50, 10},
            {53, 16}};

    ssd1306_Polyline(loc_vertex, sizeof(loc_vertex) / sizeof(loc_vertex[0]), White);
    ssd1306_UpdateScreen();
    return;
}

void ssd1306_TestDrawBitmap()
{
    ssd1306_Fill(White);
    ssd1306_DrawBitmap(0, 0, garfield_128x64, 128, 64, Black);
    ssd1306_UpdateScreen();
    nrf_delay_ms(3000);
    ssd1306_Fill(Black);
    ssd1306_DrawBitmap(32, 0, github_logo_64x64, 64, 64, White);
    ssd1306_UpdateScreen();
    nrf_delay_ms(3000);
    ssd1306_Fill(White);
    ssd1306_DrawBitmap(32, 0, github_logo_64x64, 64, 64, Black);
    ssd1306_UpdateScreen();
}

void ssd1306_TestAll()
{
    ssd1306_Init();
    //ssd1306_TestFPS();
    //nrf_delay_ms(3000);
    //ssd1306_TestBorder();
    ssd1306_TestFonts();
    nrf_delay_ms(3000);
    ssd1306_Fill(Black);
    ssd1306_TestRectangle();
    ssd1306_TestLine();
    nrf_delay_ms(3000);
    ssd1306_Fill(Black);
    ssd1306_TestRectangleFill();
    nrf_delay_ms(3000);
    ssd1306_Fill(Black);
    ssd1306_TestPolyline();
    nrf_delay_ms(3000);
    ssd1306_Fill(Black);
    ssd1306_TestArc();
    nrf_delay_ms(3000);
    ssd1306_Fill(Black);
    ssd1306_TestCircle();
    nrf_delay_ms(3000);
    ssd1306_TestDrawBitmap();
    nrf_delay_ms(3000);
}